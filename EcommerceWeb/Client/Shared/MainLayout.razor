@inherits LayoutComponentBase
@using EcommerceWeb.Client.Pages.Shopping

<MudThemeProvider/>
<MudDialogProvider/>
<MudSnackbarProvider/>
<MudLayout>
    <MudAppBar Elevation="2" Color="Color.Dark" Class="bg-light">
        <MudIconButton Icon="@Icons.Material.Filled.Menu" Color="Color.Dark" Edge="Edge.Start" OnClick="@ToggleStartDrawer" StartIcon="@(Rtl ? Icons.Filled.East : Icons.Filled.West)" />
        
            <div Class="align-content-md-center">
            <MudLink Href="/" >
                <MudImage Src="image/nubex.png" Width="100" Height="30">
                </MudImage>
            </MudLink>
            </div>
        
        
        <MudSpacer />
        <MudFab Color="Color.Tertiary" StartIcon="@Icons.Material.Filled.ShoppingCart" OnClick="@ToggleEndDrawer"   Size="Size.Small" />
        <div id="menuLogin" class="m-2" style="font-display:inherit;">
            <LoginDisplay />
            
        </div>
        
        <MudIconButton Icon="@Icons.Material.Filled.MoreVert" Color="Color.Inherit" Edge="Edge.End" />
    </MudAppBar>
    
    
        <MudDrawer @bind-Open="@openStart" Anchor="Anchor.Start" Elevation="2" Variant="@DrawerVariant.Persistent">
            @*<MudDrawerHeader>
                <MudText Typo="Typo.h6">My App</MudText>
            </MudDrawerHeader>*@
            <NavMenu />
        </MudDrawer>
        <MudDrawer @bind-Open="@openEnd" Anchor="Anchor.End" Elevation="2" Width="350px" Variant="@DrawerVariant.Persistent">
            <MudDrawerHeader>
                <MudText Typo="Typo.h6">Current Carts</MudText>
            </MudDrawerHeader>
            <ShoppingCart />
        </MudDrawer>
        @*<div class="d-flex justify-center align-center mud-height-full">
            <MudButton Color="Color.Inherit" OnClick="@ToggleStartDrawer" StartIcon="@(Rtl ? Icons.Filled.East : Icons.Filled.West)" Class="mx-2">Toggle start</MudButton>
            <MudButton Color="Color.Inherit" OnClick="@ToggleEndDrawer" EndIcon="@(Rtl ? Icons.Filled.West : Icons.Filled.East)" Class="mx-2">Toggle end</MudButton>
        </div>*@
    

@code
{
    [CascadingParameter]
    public bool Rtl { get; set; }

    bool openStart = false;
    bool openEnd = false;

    void ToggleStartDrawer()
    {
        openStart = !openStart;
        //_drawerOpen = !_drawerOpen;
    }

    void ToggleEndDrawer()
    {
        openEnd = !openEnd;
    }
}
    @*<MudDrawer @bind-Open="_drawerOpen" ClipMode="DrawerClipMode.Always" Elevation="2">
        <NavMenu/>
    </MudDrawer>*@
    <MudMainContent>
        @Body
    </MudMainContent>
</MudLayout>

@*@code {
    bool _drawerOpen = false;

    void DrawerToggle()
    {
        _drawerOpen = !_drawerOpen;
    }
}*@
@*<div class="page">
    <div class="sidebar">
        <NavMenu />
    </div>

    <main>
        <div class="top-row px-4 auth">
            <LoginDisplay />
            <a href="https://docs.microsoft.com/aspnet/" target="_blank">About</a>
        </div>

        <article class="content px-4">
            @Body
        </article>
    </main>
</div>
*@